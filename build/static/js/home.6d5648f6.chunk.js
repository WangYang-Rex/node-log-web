(this["webpackJsonpcrm-log-web"]=this["webpackJsonpcrm-log-web"]||[]).push([[0],{311:function(e,t,n){"use strict";var r=n(293),a=n.n(r),c=n(294),i=n(402),s=n.n(i),l={headers:{"Content-Type":"application/json; charset=UTF-8"},timeout:1e3,withCredentials:!0,responseType:"json"},o=function(e,t,n){return e.then(function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t&&t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){return e.data}))},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},l,{url:e,method:"POST",data:JSON.stringify(t)});return o(s()(n))};t.a={post:u}},400:function(e,t,n){},574:function(e,t,n){},583:function(e,t,n){},624:function(e,t,n){},633:function(e,t,n){"use strict";n.r(t);n(304);var r=n(324),a=n.n(r),c=(n(306),n(320)),i=n.n(c),s=(n(285),n(283)),l=n.n(s),o=(n(307),n(319)),u=n.n(o),d=(n(308),n(297)),j=n.n(d),p=(n(331),n(316)),f=n.n(p),h=n(293),b=n.n(h),x=n(95),O=n(294),m=n(94),v=(n(309),n(312)),g=n.n(v),y=(n(305),n(295)),k=n.n(y),w=(n(400),n(401)),_=n(0),C=n(311),I=n(340),S=n.n(I),N=n(6),z=k.a.Option,T=g.a.confirm;t.default=function(){var e=Object(_.useState)([]),t=Object(m.a)(e,2),n=t[0],r=t[1],c=Object(_.useRef)({page:1,pageSize:20,count:0}),s=Object(_.useRef)({visible:"",user_name:"",terminal_type:"",corp_name:"",modifier_error:"\u672a\u4fee\u590d",error_type:"",assign_user_name:""}),o=function(){var e=Object(O.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.post("/error/list.rjson",Object(x.a)({page:c.current.page,pageSize:c.current.pageSize},s.current));case 2:t=e.sent,c.current.count=t.count,r(t.list);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T({title:"\u786e\u8ba4",content:"\u662f\u5426\u786e\u8ba4\u6807\u8bb0\u4e3a\u5df2\u4fee\u590d?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){var e=Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.post("/error/list/state.rjson",{id:t});case 2:e.sent,o();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onCancel:function(){console.log("cancel")}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(O.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="",r=function(e){n=e.target.value},T({title:"\u6307\u6d3e\u4eba\u5458",content:Object(N.jsx)("div",{children:Object(N.jsxs)(f.a.Group,{onChange:r,children:[Object(N.jsx)(f.a,{value:"\u9ed1\u8349",children:"\u9ed1\u8349"}),Object(N.jsx)(f.a,{value:"\u5927\u6d0b",children:"\u5927\u6d0b"}),Object(N.jsx)(f.a,{value:"\u6797\u6728",children:"\u6797\u6728"}),Object(N.jsx)(f.a,{value:"\u590f\u5929",children:"\u590f\u5929"}),Object(N.jsx)(f.a,{value:"\u5929\u6674",children:"\u5929\u6674"}),Object(N.jsx)(f.a,{value:"\u7af9\u98ce",children:"\u7af9\u98ce"}),Object(N.jsx)(f.a,{value:"\u8ff7\u96fe",children:"\u8ff7\u96fe"})]})}),onOk:function(){var e=Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.post("/error/assign/userName.rjson",{id:t,assign_user_name:n});case 2:e.sent,o();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onCancel:function(){console.log("Cancel")}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(_.useLayoutEffect)((function(){o()}),[]);var h=[{title:"\u9519\u8bef\u7b49\u7ea7",dataIndex:"error_grade",key:"error_grade",width:100,fixed:"left",ellipsis:!0,render:function(e,t){var n=[{title:"\u7d27\u6025",classStr:"red",grade:"urgent"},{title:"\u9ad8",classStr:"orange",grade:"high"},{title:"\u666e\u901a",classStr:"#1890ff",grade:"general"}],r=function(){return Object(w.keyBy)(n,"grade")[t.error_count>=50?"urgent":t.error_count>=1&&t.error_count<10?"general":"high"]};return Object(N.jsx)("span",{style:{color:r().classStr},children:r().title})}},{title:"\u6307\u5b9a\u4fee\u590d\u4eba\u5458",dataIndex:"assign_user_name",key:"assign_user_name",width:120},{title:"\u9519\u8bef\u4fe1\u606f",dataIndex:"error_message",key:"error_message",ellipsis:!0,width:350},{title:"\u6587\u4ef6\u540d\u79f0",dataIndex:"file_name",key:"file_name",width:450,ellipsis:!0},{title:"\u884c",dataIndex:"line",key:"line",width:75,ellipsis:!0},{title:"\u5217",dataIndex:"column",key:"column",width:75,ellipsis:!0},{title:"\u72b6\u6001",dataIndex:"modifier_error",key:"modifier_error",width:100},{title:"id",dataIndex:"id",key:"id",width:100},{title:"\u65b0\u9519\u8bef\u6b21\u6570",dataIndex:"error_count",key:"error_count",width:120,ellipsis:!0},{title:"\u9519\u8bef\u603b\u6b21\u6570",dataIndex:"count",key:"count",width:120,ellipsis:!0},{title:"\u95ee\u9898\u540d\u79f0",dataIndex:"name",key:"name",width:150,ellipsis:!0},{title:"\u9519\u8bef\u7c7b\u578b",dataIndex:"error_type",key:"error_type",width:120,ellipsis:!0},{title:"\u73af\u5883",dataIndex:"visible",key:"visible",width:80,ellipsis:!0},{title:"\u8bbe\u5907",dataIndex:"terminal_type",key:"terminal_type",width:80,ellipsis:!0},{title:"hash",dataIndex:"hash",key:"hash",width:400,ellipsis:!0},{title:"\u552f\u4e00\u503c",dataIndex:"key",key:"key",width:200,ellipsis:!0},{title:"\u7528\u6237",dataIndex:"user_name",key:"user_name",width:100,ellipsis:!0},{title:"\u4f01\u4e1a",dataIndex:"corp_name",key:"corp_name",width:140,ellipsis:!0},{title:"\u9519\u8bef\u8ddf\u8e2a",dataIndex:"log",key:"log",width:140,ellipsis:!0},{title:"\u65f6\u95f4",dataIndex:"created",key:"created",width:200,ellipsis:!0,render:function(e){return S()(e).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u64cd\u4f5c",key:"action",width:180,fixed:"right",render:function(e,t){return Object(N.jsxs)(j.a,{size:"middle",children:[Object(N.jsx)("a",{onClick:function(){return d(t.id)},children:"\u4fee\u6539"}),Object(N.jsx)("a",{onClick:function(){return p(t.id)},children:"\u6307\u6d3e\u4fee\u590d\u4eba\u5458"})]})}}],v=0;h.map((function(e){v+=e.width||200}));var g=function(e,t){s.current[e]=t};return Object(N.jsxs)("div",{className:"main JsErrorList",children:[Object(N.jsxs)("div",{className:"content-header",children:["\u73af\u5883\uff1a",Object(N.jsxs)(k.a,{className:"mr_12",style:{width:120},defaultValue:"",onChange:function(e){return g("visible",e)},children:[Object(N.jsx)(z,{value:"",children:"\u6240\u6709"}),Object(N.jsx)(z,{value:"\u6b63\u5f0f",children:"\u6b63\u5f0f"}),Object(N.jsx)(z,{value:"\u6d4b\u8bd5",children:"\u6d4b\u8bd5"})]}),"\u72b6\u6001\uff1a",Object(N.jsxs)(k.a,{className:"mr_12",style:{width:120},defaultValue:"\u672a\u4fee\u590d",onChange:function(e){return g("modifier_error",e)},children:[Object(N.jsx)(z,{value:"",children:"\u6240\u6709"}),Object(N.jsx)(z,{value:"\u5df2\u4fee\u590d",children:"\u5df2\u4fee\u590d"}),Object(N.jsx)(z,{value:"\u672a\u4fee\u590d",children:"\u672a\u4fee\u590d"})]}),"\u9519\u8bef\u7c7b\u578b\uff1a",Object(N.jsxs)(k.a,{className:"mr_12",style:{width:120},defaultValue:"",onChange:function(e){return g("error_type",e)},children:[Object(N.jsx)(z,{value:"",children:"\u6240\u6709"}),Object(N.jsx)(z,{value:"js",children:"js"}),Object(N.jsx)(z,{value:"compRenderError",children:"compRenderError"})]}),"\u6307\u6d3e\u4eba\u5458\uff1a",Object(N.jsxs)(k.a,{className:"mr_12",style:{width:120},defaultValue:"",onChange:function(e){return g("assign_user_name",e)},children:[Object(N.jsx)(z,{value:"",children:"\u6240\u6709"}),Object(N.jsx)(z,{value:"\u65e0",children:"\u672a\u6307\u6d3e\u4eba\u5458"}),Object(N.jsx)(z,{value:"\u9ed1\u8349",children:"\u9ed1\u8349"}),Object(N.jsx)(z,{value:"\u5927\u6d0b",children:"\u5927\u6d0b"}),Object(N.jsx)(z,{value:"\u6797\u6728",children:"\u6797\u6728"}),Object(N.jsx)(z,{value:"\u590f\u5929",children:"\u590f\u5929"}),Object(N.jsx)(z,{value:"\u5929\u6674",children:"\u5929\u6674"}),Object(N.jsx)(z,{value:"\u7af9\u98ce",children:"\u7af9\u98ce"}),Object(N.jsx)(z,{value:"\u8ff7\u96fe",children:"\u8ff7\u96fe"})]}),Object(N.jsxs)(k.a,{className:"mr_12",style:{width:120},defaultValue:"",onChange:function(e){return g("terminal_type",e)},children:[Object(N.jsx)(z,{value:"",children:"\u6240\u6709"}),Object(N.jsx)(z,{value:"mobile",children:"mobile"}),Object(N.jsx)(z,{value:"pc",children:"pc"})]}),"\u4f01\u4e1a\u540d\u79f0\uff1a",Object(N.jsx)(u.a,{className:"mr_12",style:{width:120},onChange:function(e){return g("corp_name",e.target.value)}}),"\u7528\u6237\u540d\u79f0\uff1a",Object(N.jsx)(u.a,{className:"mr_12",style:{width:120},onChange:function(e){return g("user_name",e.target.value)}}),Object(N.jsx)(l.a,{type:"primary",className:"mr_12",onClick:o,children:"\u67e5\u8be2"})]}),Object(N.jsx)("div",{className:"content-table",children:Object(N.jsx)(i.a,{columns:h,dataSource:n,scroll:{x:v,y:window.innerHeight-200},pagination:!1})}),Object(N.jsx)("div",{className:"content-footer mt_12",children:Object(N.jsx)(a.a,{size:"small",total:c.current.count,onChange:function(e){c.current.page=e,o()},current:c.current.page,pageSize:c.current.pageSize,showTotal:function(e){return"\u603b\u6761\u6570".concat(e)}})})]})}},634:function(e,t,n){"use strict";n.r(t);var r=n(95),a=(n(376),n(382)),c=n.n(a),i=(n(578),n(584)),s=n.n(i),l=(n(307),n(319)),o=n.n(l),u=(n(306),n(320)),d=n.n(u),j=(n(285),n(283)),p=n.n(j),f=(n(308),n(297)),h=n.n(f),b=(n(309),n(312)),x=n.n(b),O=(n(377),n(93)),m=n.n(O),v=n(293),g=n.n(v),y=n(294),k=n(94),w=n(0),_=n(311),C=(n(583),n(6));t.default=function(){var e=Object(w.useState)([]),t=Object(k.a)(e,2),n=t[0],a=t[1],i=Object(w.useState)(!1),l=Object(k.a)(i,2),u=l[0],j=l[1],f=Object(w.useState)(""),b=Object(k.a)(f,2),O=b[0],v=b[1],I=Object(w.useState)(""),S=Object(k.a)(I,2),N=S[0],z=S[1],T=Object(w.useRef)({page:1,pageSize:100,count:0}),L=function(){var e=Object(y.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("/slink/list.rjson",{page:T.current.page,pageSize:T.current.pageSize});case 2:t=e.sent,a(t.list);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(w.useLayoutEffect)((function(){L()}),[]);var A=function(){var e=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N){e.next=2;break}return e.abrupt("return",m.a.info("\u8bf7\u8f93\u5165\u5173\u952e\u5b57"));case 2:if(O){e.next=4;break}return e.abrupt("return",m.a.info("\u8bf7\u8f93\u5165\u94fe\u63a5"));case 4:return e.next=6,_.a.post("/slink/add.rjson",{keyword:N,link:O});case 6:e.sent,z(""),v(""),j(!1),L();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.a.confirm({title:"\u786e\u8ba4\u5220\u9664?",content:"\u786e\u8ba4\u5220\u9664\u8fd9\u4e2a\u77ed\u94fe\u5417",onOk:function(){var e=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("/slink/del.rjson",{id:t.id});case 2:e.sent,L();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onCancel:function(){console.log("Cancel")}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=[{title:"\u5173\u952e\u5b57",dataIndex:"keyword",key:"keyword",render:function(e){return Object(C.jsx)("a",{children:e})}},{title:"link",dataIndex:"link",key:"link"},{title:"slink",dataIndex:"slink",key:"slink",render:function(e){var t="https://crmlog.superboss.cc/slink/jump/".concat(e);return Object(C.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",children:t})}},{title:"create",dataIndex:"create",key:"create"},{title:"visit",dataIndex:"visit",key:"visit"},{title:"Action",key:"action",render:function(e,t){return Object(C.jsx)(h.a,{size:"middle",children:Object(C.jsx)("a",{onClick:function(){E(t)},children:"Delete"})})}}],R={name:"file",action:"/file/form.rjson",method:"POST",listType:"picture",showUploadList:!1,onChange:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?(console.log(e),m.a.success("\u4e0a\u4f20\u6210\u529f")):"error"===e.file.status&&m.a.error("".concat(e.file.response.data," \u4e0a\u4f20\u5931\u8d25"))}};return Object(C.jsxs)("div",{className:"main slink-list",children:[Object(C.jsx)("div",{className:"content-heaer",children:Object(C.jsx)(p.a,{type:"primary",onClick:function(){j(!0)},children:"\u65b0\u5efa"})}),Object(C.jsx)(d.a,{columns:Y,dataSource:n}),Object(C.jsx)(x.a,{title:"\u65b0\u5efa\u77ed\u94fe",visible:u,onOk:function(){j(!1),L()},onCancel:function(){j(!1)},children:Object(C.jsxs)(s.a,{name:"basic",labelCol:{span:6},wrapperCol:{span:18},children:[Object(C.jsx)(s.a.Item,{label:"\u5173\u952e\u5b57",name:"keyword",children:Object(C.jsx)(o.a,{value:N,onChange:function(e){return z(e.target.value)}})}),Object(C.jsx)(s.a.Item,{label:"\u94fe\u63a5",name:"link",children:Object(C.jsx)(o.a,{value:O,onChange:function(e){return v(e.target.value)}})}),Object(C.jsx)(s.a.Item,{wrapperCol:{offset:6,span:18},children:Object(C.jsx)(p.a,{type:"primary",onClick:A,children:"\u751f\u6210\u94fe\u63a5"})})]})}),Object(C.jsxs)("div",{className:"upload",children:[Object(C.jsx)("h2",{children:"Antd Upload"}),Object(C.jsx)(c.a,Object(r.a)(Object(r.a)({},R),{},{children:Object(C.jsx)(p.a,{type:"primary",children:"\u4e0a\u4f20\u56fe\u7247"})}))]})]})}},635:function(e,t,n){"use strict";n.r(t);n(304);var r=n(324),a=n.n(r),c=(n(306),n(320)),i=n.n(c),s=n(95),l=(n(376),n(382)),o=n.n(l),u=(n(285),n(283)),d=n.n(u),j=(n(307),n(319)),p=n.n(j),f=(n(377),n(93)),h=n.n(f),b=(n(308),n(297)),x=n.n(b),O=n(293),m=n.n(O),v=n(294),g=n(94),y=(n(309),n(312)),k=n.n(y),w=(n(305),n(295)),_=n.n(w),C=(n(624),n(0)),I=n(311),S=n(340),N=n.n(S),z=n(6);_.a.Option,k.a.confirm;t.default=function(){var e=Object(C.useState)([]),t=Object(g.a)(e,2),n=t[0],r=t[1],c=Object(C.useRef)({page:1,pageSize:20,count:0}),l=function(){var e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.post("/file/list.rjson",{page:c.current.page,pageSize:c.current.pageSize});case 2:t=e.sent,c.current.count=t.count,r(t.list);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(v.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.post("/file/delete.rjson",{id:t});case 2:e.sent,l();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(C.useLayoutEffect)((function(){l()}),[]);var j=[{title:"\u6587\u4ef6\u540d\u79f0",dataIndex:"filename",key:"filename",width:240,ellipsis:!0},{title:"cdn\u5730\u5740",dataIndex:"cdnurl",key:"cdnurl",ellipsis:!0,render:function(e){return Object(z.jsx)("a",{href:e,target:"_blank",rel:"noreferrer",children:e})}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created",key:"created",width:200,ellipsis:!0,render:function(e){return N()(e).format("YYYY-MM-DD HH:mm:ss")}},{title:"Action",key:"action",width:180,fixed:"right",render:function(e,t){return Object(z.jsx)(x.a,{size:"middle",children:Object(z.jsx)("a",{onClick:function(){return u(t.id)},children:"\u5220\u9664"})})}}],f=0;j.map((function(e){f+=e.width||200}));var b={name:"file",action:"/file/upload/stream.rjson",method:"POST",listType:"picture",showUploadList:!1,onChange:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?(console.log(e),h.a.success("\u4e0a\u4f20\u6210\u529f"),l()):"error"===e.file.status&&h.a.error("".concat(e.file.response.data," \u4e0a\u4f20\u5931\u8d25"))}};return Object(z.jsxs)("div",{className:"main JsErrorList",children:[Object(z.jsxs)("div",{className:"content-header",children:["\u6587\u4ef6\u540d\u79f0\uff1a",Object(z.jsx)(p.a,{className:"mr_12",style:{width:120},onChange:function(e){e.target.value}}),Object(z.jsx)(d.a,{type:"primary",className:"mr_12",onClick:l,children:"\u67e5\u8be2"}),Object(z.jsx)(o.a,Object(s.a)(Object(s.a)({},b),{},{children:Object(z.jsx)(d.a,{type:"primary",children:"\u4e0a\u4f20\u56fe\u7247"})}))]}),Object(z.jsx)("div",{className:"content-table",children:Object(z.jsx)(i.a,{columns:j,dataSource:n,scroll:{x:f,y:window.innerHeight-200},pagination:!1})}),Object(z.jsx)("div",{className:"content-footer mt_12",children:Object(z.jsx)(a.a,{size:"small",total:c.current.count,onChange:function(e){c.current.page=e,l()},current:c.current.page,pageSize:c.current.pageSize,showTotal:function(e){return"\u603b\u6761\u6570".concat(e)}})})]})}},637:function(e,t,n){"use strict";n.r(t);n(0);var r=n.p+"static/media/logo.6ce24c58.svg",a=(n(574),n(6));t.default=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)("header",{className:"App-header",children:[Object(a.jsx)("img",{src:r,className:"App-logo",alt:"logo"}),Object(a.jsxs)("p",{children:["Edit ",Object(a.jsx)("code",{children:"src/App.tsx"})," and save to reload."]}),Object(a.jsx)("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer",children:"Learn React"})]})})}}}]);
//# sourceMappingURL=home.6d5648f6.chunk.js.map